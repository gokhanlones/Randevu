<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FlowRandevu | İşletme Kayıt</title>

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#0f0f0f;
  color:white;
  padding:20px;
}

.container{
  max-width:500px;
  margin:auto;
}

h2{
  text-align:center;
  margin-bottom:20px;
}

input, textarea{
  width:100%;
  padding:12px;
  margin-bottom:12px;
  border-radius:8px;
  border:none;
  font-size:14px;
}

textarea{
  resize:none;
  height:80px;
}

button{
  width:100%;
  padding:14px;
  border:none;
  border-radius:10px;
  background:#d4af37;
  font-weight:bold;
  font-size:15px;
  cursor:pointer;
}

button:active{
  transform:scale(0.98);
}
</style>
</head>
<body>

<div class="container">

<h2>İşletme Kayıt</h2>

<input type="text" id="isletme_adi" placeholder="İşletme Adı">
<input type="text" id="yetkili_adi" placeholder="Yetkili Adı">
<input type="tel" id="telefon" placeholder="Telefon">
<input type="email" id="email" placeholder="Email">
<input type="text" id="adres" placeholder="Adres">
<input type="text" id="instagram" placeholder="Instagram Link">
<input type="text" id="hizmetler" placeholder="Hizmetler (virgülle ayır)">
<input type="number" id="puan" placeholder="Puan (örn: 4.8)">
<textarea id="aciklama" placeholder="Açıklama"></textarea>

<button onclick="registerBusiness()">İşletmeyi Kaydet</button>

</div>

<script>

async function registerBusiness(){

  const data = {
    isletme_adi: document.getElementById("isletme_adi").value.trim(),
    yetkili_adi: document.getElementById("yetkili_adi").value.trim(),
    telefon: document.getElementById("telefon").value.trim(),
    email: document.getElementById("email").value.trim(),
    adres: document.getElementById("adres").value.trim(),
    instagram: document.getElementById("instagram").value.trim(),
    hizmetler: document.getElementById("hizmetler").value.trim(),
    puan: document.getElementById("puan").value.trim(),
    aciklama: document.getElementById("aciklama").value.trim()
  };

  if(!data.isletme_adi || !data.telefon || !data.email){
    alert("Zorunlu alanları doldurun");
    return;
  }

  try{

    const response = await fetch("https://script.google.com/macros/s/AKfycbxEWM8TJCM0onyrToA7C4DyZ7mawFWpzbx9tvcx9gCy2G_wAoVvvNKywhClxW0mSfQW/exec",{
      method:"POST",
      body:JSON.stringify(data)
    });

    const result = await response.json();

    if(result.result === "success"){
      alert("Kayıt başarılı");
      location.reload();
    }else{
      alert("Kayıt başarısız");
    }

  }catch(error){
    console.error(error);
    alert("Bağlantı hatası");
  }
}

</script>

</body>
</html>
