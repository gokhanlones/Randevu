// =======================================
// KULLANICI BİLGİSİ GETİR (YENİ)
// =======================================

function getUserInfo(data) {
  try {
    const userId = parseInt(data.userId);
    const sheet = getSheet();
    const rows = sheet.getDataRange().getValues();

    // ID'ye göre kullanıcı bul
    for (let i = 1; i < rows.length; i++) {
      if (parseInt(rows[i][0]) === userId) {
        return jsonResponse({
          success: true,
          user: {
            id: rows[i][0],
            ad: rows[i][1],
            soyad: rows[i][2],
            gsm: rows[i][3],
            email: rows[i][4]
          }
        });
      }
    }
    
    return jsonResponse({ success: false, message: "Kullanıcı bulunamadı" });
    
  } catch (err) {
    return jsonResponse({ success: false, message: "Hata: " + err.toString() });
  }
}
