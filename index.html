<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Randevu AI</title>

<style>
body{
    font-family: Arial, sans-serif;
    background:#111;
    color:white;
    text-align:center;
    padding:20px;
}
.card{
    background:#1e1e1e;
    padding:20px;
    border-radius:15px;
    margin:15px 0;
}
button{
    padding:15px;
    border:none;
    border-radius:10px;
    background:gold;
    font-weight:bold;
    width:100%;
    margin-top:10px;
}
input, select{
    padding:10px;
    width:100%;
    margin-top:10px;
    border-radius:8px;
    border:none;
}
.hidden{
    display:none;
}
</style>
</head>

<body>

<h2>Randevu AI</h2>

<!-- KUAFÖR SEÇİM -->
<div id="selection">

<div class="card">
<h3>Barber Club</h3>
<button onclick="selectBarber('barberclub')">Seç</button>
</div>

<div class="card">
<h3>Urban Barber</h3>
<button onclick="selectBarber('urbanbarber')">Seç</button>
</div>

</div>

<!-- RANDEVU FORM -->
<div id="formSection" class="hidden">

<h3 id="barberTitle"></h3>

<form id="appointmentForm">
<input type="text" name="name" placeholder="Ad Soyad" required>
<input type="date" name="date" required>
<input type="time" name="time" required>

<button type="submit">Randevuyu Onayla</button>
</form>

<button onclick="goBack()">← Geri</button>

</div>

<script>

let selectedBarberEmail = "";

function selectBarber(barber){
    document.getElementById("selection").classList.add("hidden");
    document.getElementById("formSection").classList.remove("hidden");

    if(barber === "barberclub"){
        document.getElementById("barberTitle").innerText = "Barber Club";
        selectedBarberEmail = "gokhanlones@gmail.com";
    }
    if(barber === "urbanbarber"){
        document.getElementById("barberTitle").innerText = "Urban Barber";
        selectedBarberEmail = "gokhanlones@gmail.com";
    }
}

function goBack(){
    document.getElementById("formSection").classList.add("hidden");
    document.getElementById("selection").classList.remove("hidden");
}

document.getElementById("appointmentForm").addEventListener("submit", function(e){
    e.preventDefault();

    const formData = new FormData(this);

    fetch("https://formsubmit.co/" + selectedBarberEmail, {
        method: "POST",
        body: formData
    })
    .then(response => {
        alert("Randevu gönderildi!");
        this.reset();
        goBack();
    })
    .catch(error => {
        alert("Mail gönderilemedi!");
    });

});

</script>

</body>
</html>