<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>FlowRandevu</title>

<style>
*{box-sizing:border-box}
:root{ --gold:#d4af37; --bg:#111; --card:#1e1e1e; --muted:#aaa; }

body{
  margin:0; font-family:Arial, sans-serif; background:var(--bg); color:#fff;
}

/* ===== TOP BANNER (SABƒ∞T) ===== */
#topBanner{
  position:fixed; left:0; top:-120px; width:100%;
  padding:14px 16px; text-align:center; font-weight:700;
  z-index:99999; transition:top .35s ease;
}
#topBanner.banner-error{
  background:#2b0d0d; border-left:4px solid #ff4d4d; color:#ffb3b3;
}
#topBanner.banner-success{
  background:#0f2d1f; border-left:4px solid #00c853; color:#a5f5c8;
}

/* ===== HAMBURGER ===== */
.menu-btn{
  position:fixed; top:14px; left:14px; width:44px; height:44px;
  display:flex; align-items:center; justify-content:center;
  border-radius:12px; background:#1a1a1a; cursor:pointer;
  z-index:2000; user-select:none;
  box-shadow:0 10px 24px rgba(0,0,0,.45);
}
.menu-btn:active{transform:scale(.98)}
.menu-btn span{font-size:22px}

/* ===== SIDE MENU ===== */
#sideMenu{
  position:fixed; top:0; left:-280px; width:280px; height:100vh;
  background:#1b1b1b; transition:left .28s ease;
  z-index:1500; padding-top:70px;
  box-shadow:20px 0 60px rgba(0,0,0,.45);
}
#sideMenu.open{left:0}
#sideMenu .item{
  padding:16px 18px; cursor:pointer; color:#fff;
  border-bottom:1px solid #2b2b2b;
}
#sideMenu .item:hover{background:#242424}

/* ===== MAIN ===== */
#mainContent{
  padding:90px 18px 24px;
}
h2{margin:0 0 10px; color:var(--gold)}
p{margin:0; color:var(--muted); line-height:1.5}

/* ===== MODAL ===== */
.modal{
  position:fixed; inset:0; background:rgba(0,0,0,.82);
  display:none; align-items:center; justify-content:center;
  z-index:5000; padding:18px;
}
.modal.show{display:flex}
.card{
  width:min(560px, 96vw);
  background:var(--card);
  border-radius:18px;
  padding:26px 22px;
  box-shadow:0 30px 80px rgba(0,0,0,.7);
}
.card h3{
  margin:0 0 16px; text-align:center; color:var(--gold); font-size:20px;
}
.field{
  width:100%; padding:14px 12px; border:none; border-radius:10px;
  background:#101010; color:#fff; outline:none;
  margin:0 0 12px;
}
.row{display:flex; gap:10px}
.row .field{margin-bottom:12px}

.btn{
  width:100%; padding:14px 12px; border:none; border-radius:10px;
  cursor:pointer; font-weight:800;
}
.btn-primary{background:var(--gold); color:#000}
.btn-ghost{background:#3a3a3a; color:#fff; margin-top:10px}

.small-link{
  text-align:center; margin-top:14px; font-size:13px; color:#cfcfcf;
}
.small-link span{color:var(--gold); cursor:pointer}

/* Password show/hide */
.passWrap{position:relative}
.eye{
  position:absolute; right:12px; top:12px;
  width:38px; height:38px; display:flex; align-items:center; justify-content:center;
  border-radius:10px; cursor:pointer; user-select:none;
  background:rgba(255,255,255,.06);
}

/* Google button (g√∂rsel) */
.btn-google{
  margin-top:10px;
  background:#fff; color:#333; display:flex; gap:10px;
  align-items:center; justify-content:center;
  font-weight:800;
}
.googleDot{
  width:18px; height:18px; border-radius:50%;
  background:conic-gradient(#4285F4 0 25%, #34A853 0 50%, #FBBC05 0 75%, #EA4335 0 100%);
}
</style>
</head>

<body>

<div id="topBanner"></div>

<div class="menu-btn" id="menuBtn" aria-label="Menu">
  <span>‚ò∞</span>
</div>

<div id="sideMenu">
  <div class="item" id="openLoginBtn">ƒ∞≈ületme Giri≈üi</div>
  <div class="item" id="openRegisterBtn">Kayƒ±t Ol</div>
</div>

<div id="mainContent">
  <h2>FlowRandevu</h2>
  <p>Ana sayfa bo≈ü gelebilir. Men√ºden ‚Äúƒ∞≈ületme Giri≈üi / Kayƒ±t Ol‚Äù ile ilerleyeceƒüiz.</p>
</div>

<!-- LOGIN MODAL -->
<div class="modal" id="loginModal">
  <div class="card">
    <h3>ƒ∞≈ületme Giri≈üi</h3>

    <input class="field" type="email" id="loginEmail" placeholder="Email" autocomplete="email">
    <input class="field" type="password" id="loginPass" placeholder="≈ûifre" autocomplete="current-password">

    <button class="btn btn-primary" id="loginSubmit">Giri≈ü Yap</button>

    <button class="btn btn-google" type="button">
      <span class="googleDot"></span> Google ile Giri≈ü Yap
    </button>

    <div class="small-link">
      Hesabƒ±nƒ±z yok mu? <span id="goRegisterFromLogin">Kayƒ±t Ol</span>
    </div>

    <button class="btn btn-ghost" type="button" id="closeLogin">Kapat</button>
  </div>
</div>

<!-- REGISTER MODAL -->
<div class="modal" id="registerModal">
  <div class="card">
    <h3>ƒ∞≈ületme Kaydƒ±</h3>

    <input class="field" type="text" id="regFirst" placeholder="Ad" autocomplete="given-name">
    <input class="field" type="text" id="regLast" placeholder="Soyad" autocomplete="family-name">
    <input class="field" type="tel" id="regPhone" placeholder="Telefon" autocomplete="tel">

    <input class="field" type="email" id="regEmail1" placeholder="Email" autocomplete="email">
    <input class="field" type="email" id="regEmail2" placeholder="Email Tekrar" autocomplete="email">

    <div class="passWrap">
      <input class="field" type="password" id="regPass1" placeholder="≈ûifre" autocomplete="new-password">
      <div class="eye" data-eye="regPass1">üëÅ</div>
    </div>

    <div class="passWrap">
      <input class="field" type="password" id="regPass2" placeholder="≈ûifre Tekrar" autocomplete="new-password">
      <div class="eye" data-eye="regPass2">üëÅ</div>
    </div>

    <button class="btn btn-primary" id="registerSubmit">Kayƒ±t Ol</button>

    <div class="small-link">
      Zaten hesabƒ±m var: <span id="goLoginFromRegister">Giri≈ü Yap</span>
    </div>

    <button class="btn btn-ghost" type="button" id="closeRegister">Kapat</button>
  </div>
</div>

<script>
/* ========= Helpers ========= */
const $ = (id) => document.getElementById(id);

function bannerHide(){
  const b = $("topBanner");
  b.style.top = "-120px";
}
function showError(html){
  const b = $("topBanner");
  b.className = "banner-error";
  b.innerHTML = html;
  b.style.top = "0";
}
function showSuccess(text){
  const b = $("topBanner");
  b.className = "banner-success";
  b.textContent = text;
  b.style.top = "0";
  setTimeout(bannerHide, 5000);
}

/* ========= Menu ========= */
function menuOpen(){ $("sideMenu").classList.add("open"); }
function menuClose(){ $("sideMenu").classList.remove("open"); }
function menuToggle(){
  $("sideMenu").classList.toggle("open");
}

$("menuBtn").addEventListener("click", () => {
  bannerHide();
  menuToggle();
});

/* ========= Modals ========= */
function openModal(modalId){
  bannerHide();
  $(modalId).classList.add("show");
}
function closeModal(modalId){
  $(modalId).classList.remove("show");
}

/* Side menu actions */
$("openLoginBtn").addEventListener("click", () => { menuClose(); openModal("loginModal"); });
$("openRegisterBtn").addEventListener("click", () => { menuClose(); openModal("registerModal"); });

/* Close buttons */
$("closeLogin").addEventListener("click", () => closeModal("loginModal"));
$("closeRegister").addEventListener("click", () => closeModal("registerModal"));

/* Switch links */
$("goRegisterFromLogin").addEventListener("click", () => { closeModal("loginModal"); openModal("registerModal"); });
$("goLoginFromRegister").addEventListener("click", () => { closeModal("registerModal"); openModal("loginModal"); });

/* Click outside closes modal */
["loginModal","registerModal"].forEach(id=>{
  $(id).addEventListener("click", (e)=>{
    if(e.target.id === id) closeModal(id);
  });
});

/* ========= Password eye ========= */
document.querySelectorAll(".eye").forEach(eye=>{
  eye.addEventListener("click", ()=>{
    const targetId = eye.getAttribute("data-eye");
    const inp = $(targetId);
    inp.type = (inp.type === "password") ? "text" : "password";
  });
});

/* ========= Register Validation ========= */
function isEmail(s){
  return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s);
}
function cleanPhone(s){
  return s.replace(/[^\d]/g,"");
}

async function registerFlow(){
  const first = $("regFirst").value.trim();
  const last  = $("regLast").value.trim();
  const phoneRaw = $("regPhone").value.trim();
  const phone = cleanPhone(phoneRaw);
  const email1 = $("regEmail1").value.trim();
  const email2 = $("regEmail2").value.trim();
  const pass1 = $("regPass1").value;
  const pass2 = $("regPass2").value;

  const errors = [];

  if(!first) errors.push("Ad bo≈ü olamaz");
  if(!last) errors.push("Soyad bo≈ü olamaz");

  if(!phone) errors.push("Telefon bo≈ü olamaz");
  else if(phone.length < 10) errors.push("Telefon ge√ßersiz (en az 10 hane)");

  if(!email1) errors.push("Email bo≈ü olamaz");
  else if(!isEmail(email1)) errors.push("Email formatƒ± ge√ßersiz");

  if(email1 !== email2) errors.push("Email adresleri uyu≈ümuyor");

  if(!pass1) errors.push("≈ûifre bo≈ü olamaz");
  else if(pass1.length < 6) errors.push("≈ûifre en az 6 karakter olmalƒ±");

  if(pass1 !== pass2) errors.push("≈ûifreler uyu≈ümuyor");

  if(errors.length){
    showError(errors.join("<br>"));
    return;
  }

  // ≈ûƒ∞MDƒ∞Lƒ∞K SADECE LOG (bir sonraki adƒ±m Sheets)
  console.log("REGISTER OK:", {first,last,phone,email:email1});

  closeModal("registerModal");
  showSuccess("Kayƒ±t ba≈üarƒ±lƒ±. Email adresinizi kontrol edin.");
}

$("registerSubmit").addEventListener("click", registerFlow);

/* ========= Login (placeholder) ========= */
$("loginSubmit").addEventListener("click", ()=>{
  const e = $("loginEmail").value.trim();
  const p = $("loginPass").value;
  if(!e || !p){
    showError("Email ve ≈üifre giriniz");
    return;
  }
  closeModal("loginModal");
  showSuccess("Giri≈ü ba≈üarƒ±lƒ± (backend baƒülanacak).");
});
</script>

</body>
</html>
